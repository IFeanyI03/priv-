<!doctype html>
<html>

<head>
    <meta charset="UTF-8" />
    <link href="popup.css" rel="stylesheet" type="text/css" />
    <script type="module" src="popup.js"></script>
</head>

<body>
    <div class="container">
        <h3>My Pass Manager</h3>

        <div id="setup-section" style="display: none; text-align: center; margin-top: 50px">
            <p style="color: #666; margin-bottom: 20px">
                Create a 4-digit Master PIN.
            </p>
            <input type="password" id="setup-pass" placeholder="Enter 4-digit PIN" maxlength="4" inputmode="numeric"
                style="
                        width: 100%;
                        padding: 12px;
                        margin-bottom: 15px;
                        border: 1px solid #ccc;
                        border-radius: 4px;
                        box-sizing: border-box;
                        text-align: center;
                        letter-spacing: 5px;
                    " />
            <button id="btn-setup" style="
                        width: 100%;
                        padding: 12px;
                        background: #4caf50;
                        color: white;
                        border: none;
                        border-radius: 4px;
                        cursor: pointer;
                    ">
                Create Vault
            </button>
        </div>

        <div id="unlock-section" style="display: none; text-align: center; margin-top: 50px">
            <p style="color: #666; margin-bottom: 20px">
                Enter Master PIN to unlock.
            </p>

            <div class="pin-container">
                <input type="password" class="pin-input" maxlength="1" inputmode="numeric" />
                <input type="password" class="pin-input" maxlength="1" inputmode="numeric" />
                <input type="password" class="pin-input" maxlength="1" inputmode="numeric" />
                <input type="password" class="pin-input" maxlength="1" inputmode="numeric" />
            </div>

            <button id="btn-unlock" style="
                        width: 100%;
                        padding: 12px;
                        background: #333;
                        color: white;
                        border: none;
                        border-radius: 4px;
                        cursor: pointer;
                    ">
                Unlock
            </button>
            <div id="unlock-error" style="color: red; margin-top: 10px; font-size: 12px"></div>
        </div>

        <div id="auth-section" style="display: none">
            <p style="text-align: center; margin-bottom: 15px">
                Sign in to sync your passwords
            </p>
            <button id="btn-google-login" style="
                        background-color: #153243;
                        color: white;
                        width: 100%;
                        padding: 12px;
                        border: none;
                        border-radius: 4px;
                        cursor: pointer;
                        font-weight: bold;
                    ">
                Sign in with Google
            </button>
            <div id="auth-message" style="
                        color: red;
                        margin-top: 10px;
                        font-size: 12px;
                        text-align: center;
                    "></div>
        </div>

        <div id="app-section" style="display: none; height: 100%; flex-direction: column">
            <div style="
                        display: flex;
                        justify-content: space-around;
                        margin-bottom: 10px;
                        border-bottom: 1px solid #eee;
                        padding-bottom: 10px;
                    ">
                <span id="tab-passwords" style="
                            font-weight: bold;
                            cursor: pointer;
                            color: #153243;
                            flex: 1;
                            text-align: center;
                        ">Passwords</span>
                <span id="tab-shares" style="
                            cursor: pointer;
                            color: #888;
                            flex: 1;
                            text-align: center;
                        ">Shared Links</span>
            </div>

            <div style="
                        flex-grow: 1;
                        overflow-y: auto;
                        overflow-x: hidden;
                        padding-right: 5px;
                    ">
                <div id="password-list"></div>
                <div id="share-list" style="display: none"></div>
            </div>

            <div style="
                        margin-top: auto;
                        padding-top: 10px;
                        border-top: 1px solid #eee;
                    ">
                <button id="btn-lock" style="
                            width: 100%;
                            padding: 10px;
                            margin-bottom: 5px;
                            background: #666;
                            color: white;
                            border: none;
                            border-radius: 4px;
                            cursor: pointer;
                        ">
                    Lock Vault
                </button>
                <button id="btn-logout" style="
                            width: 100%;
                            padding: 10px;
                            background: transparent;
                            border: 1px solid #ddd;
                            color: #555;
                            border-radius: 4px;
                            cursor: pointer;
                        ">
                    Log Out
                </button>
            </div>
        </div>

        <div id="edit-section" style="display: none; flex-direction: column; padding-top: 20px;">
            <h3 style="text-align: center;">Edit Credential</h3>

            <input type="hidden" id="edit-id" />

            <label style="font-size: 12px; color: #666; margin-bottom: 4px;">Site / URL</label>
            <input type="text" id="edit-site"
                style="padding: 8px; margin-bottom: 12px; border: 1px solid #ccc; border-radius: 4px;" />

            <label style="font-size: 12px; color: #666; margin-bottom: 4px;">Username</label>
            <input type="text" id="edit-username"
                style="padding: 8px; margin-bottom: 12px; border: 1px solid #ccc; border-radius: 4px;" />

            <label style="font-size: 12px; color: #666; margin-bottom: 4px;">Password</label>
            <div style="display: flex; gap: 5px; margin-bottom: 20px;">
                <input type="password" id="edit-password"
                    style="flex-grow: 1; padding: 8px; border: 1px solid #ccc; border-radius: 4px;" />
                <button id="toggle-edit-pass"
                    style="background: none; border: 1px solid #ccc; border-radius: 4px; cursor: pointer;">üëÅÔ∏è</button>
            </div>

            <div style="display: flex; gap: 10px;">
                <button id="btn-cancel-edit"
                    style="flex: 1; padding: 10px; background: transparent; border: 1px solid #888; color: #333; border-radius: 4px; cursor: pointer;">Cancel</button>
                <button id="btn-save-edit"
                    style="flex: 1; padding: 10px; background: #153243; color: white; border: none; border-radius: 4px; cursor: pointer;">Save</button>
            </div>
        </div>
    </div>
</body>

</html>